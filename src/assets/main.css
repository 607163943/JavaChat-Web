@import 'tailwindcss';

/* ============================================
   JavaChat — Kimi-Inspired Design System
   Colors: Clean Blue accent (no purple/indigo)
   Theme: Deep dark background
   ============================================ */

@theme {
  /* === Accent — Clean Blue (Kimi-style) === */
  --color-primary: #2563eb;
  --color-primary-hover: #3b82f6;

  /* === Surfaces — Deep Dark Theme === */
  --color-surface: #0d0d0d;
  --color-surface-alt: #141414;
  --color-surface-sidebar: #111111;
  --color-surface-hover: rgba(255, 255, 255, 0.05);
  --color-surface-active: rgba(255, 255, 255, 0.08);
  --color-surface-input: #1a1a1a;
  --color-surface-card: #161616;
  --color-surface-tooltip: #1e1e1e;

  /* === Content / Text === */
  --color-content: #efefef;
  --color-content-dim: #a0a0a0;
  --color-content-muted: #666666;
  --color-content-inverse: #0d0d0d;

  /* === Borders === */
  --color-edge: rgba(255, 255, 255, 0.06);
  --color-edge-hover: rgba(255, 255, 255, 0.12);

  /* === Status === */
  --color-ok: #34d399;
  --color-warn: #fbbf24;
  --color-danger: #f87171;

  /* === Fonts — Kimi System Font Stack === */
  --font-sans:
    'PingFang SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei',
    'Helvetica Neue', Helvetica, Arial, sans-serif;
  --font-mono:
    'SF Mono', 'Fira Code', 'Fira Mono', 'Roboto Mono', 'Consolas', 'Courier New', monospace;

  /* === Animations === */
  --animate-fade-in: fade-in 0.3s ease;
  --animate-pulse-dot: pulse-dot 1.5s infinite;
  --animate-typing: typing 1.4s infinite;
}

/* === Keyframes === */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse-dot {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes typing {
  0% {
    opacity: 0.3;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.3;
  }
}

/* ============================================
   Light Theme — Kimi-Inspired Overrides
   ============================================ */

[data-theme='light'] {
  --color-primary: #2563eb;
  --color-primary-hover: #1d4ed8;

  --color-surface: #ffffff;
  --color-surface-alt: #f7f8fa;
  --color-surface-sidebar: #f3f4f6;
  --color-surface-hover: rgba(0, 0, 0, 0.04);
  --color-surface-active: rgba(0, 0, 0, 0.06);
  --color-surface-input: #ffffff;
  --color-surface-card: #f7f8fa;
  --color-surface-tooltip: #ffffff;

  --color-content: #0f172a;
  --color-content-dim: #475569;
  --color-content-muted: #94a3b8;
  --color-content-inverse: #ffffff;

  --color-edge: rgba(0, 0, 0, 0.08);
  --color-edge-hover: rgba(0, 0, 0, 0.15);

  --color-ok: #16a34a;
  --color-warn: #d97706;
  --color-danger: #dc2626;
}

/* ============================================
   Global Base Styles
   ============================================ */

html {
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
}

body {
  min-height: 100vh;
  overflow: hidden;
  color: var(--color-content);
  background: var(--color-surface);
  font-family: var(--font-sans);
  font-size: 14px;
  line-height: 1.6;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#app {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}

a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color 0.15s ease;
}

a:hover {
  color: var(--color-primary-hover);
}

button {
  font-family: inherit;
  cursor: pointer;
  border: none;
  background: none;
  color: inherit;
  font-size: inherit;
}

input,
textarea {
  font-family: inherit;
  color: inherit;
  font-size: inherit;
}

ul,
ol {
  list-style: none;
}
img {
  max-width: 100%;
  display: block;
}

/* === Scrollbar (dark) === */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* === Scrollbar (light) === */
[data-theme='light'] ::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.12);
}
[data-theme='light'] ::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.22);
}

::selection {
  background: rgba(37, 99, 235, 0.3);
  color: var(--color-content);
}

/* ============================================
   DevUI / MateChat — Comprehensive Dark Theme
   ============================================ */

:root {
  /* --- 核心背景 --- */
  --devui-base-bg: #0d0d0d;
  --devui-base-bg-dark: #111111;
  --devui-global-bg: #161616;
  --devui-global-bg-normal: #1a1a1a;

  /* --- 文字 --- */
  --devui-text: #efefef;
  --devui-text-weak: #a0a0a0;
  --devui-aide-text: #888888;
  --devui-aide-text-stress: #999999;
  --devui-placeholder: #666666;
  --devui-light-text: #ffffff;
  --devui-disabled-text: #555555;

  /* --- 主色（按钮 / 强调） --- */
  --devui-primary: #2563eb;
  --devui-primary-hover: #3b82f6;
  --devui-primary-active: #1d4ed8;
  --devui-primary-disabled: rgba(37, 99, 235, 0.4);
  --devui-brand: #2563eb;
  --devui-brand-hover: #3b82f6;
  --devui-brand-active: #1d4ed8;

  /* --- 表单控件 --- */
  --devui-form-control-bg: #1a1a1a;
  --devui-form-control-line: rgba(255, 255, 255, 0.08);
  --devui-form-control-line-hover: rgba(255, 255, 255, 0.15);
  --devui-form-control-line-active: #2563eb;

  /* --- 线条 / 分割线 --- */
  --devui-line: rgba(255, 255, 255, 0.06);
  --devui-dividing-line: rgba(255, 255, 255, 0.06);

  /* --- 区块 / 区域 --- */
  --devui-block: #1a1a1a;
  --devui-area: #141414;
  --devui-disabled-bg: #1a1a1a;

  /* --- 列表交互 --- */
  --devui-list-item-hover-bg: rgba(255, 255, 255, 0.05);
  --devui-list-item-active-bg: rgba(255, 255, 255, 0.08);
  --devui-list-item-selected-bg: rgba(37, 99, 235, 0.15);

  /* --- 图标 --- */
  --devui-icon-fill: #a0a0a0;
  --devui-icon-hover-bg: rgba(255, 255, 255, 0.05);

  /* --- 链接 --- */
  --devui-link: #2563eb;
  --devui-link-active: #3b82f6;

  /* --- 状态色 --- */
  --devui-danger: #f87171;
  --devui-warning: #fbbf24;
  --devui-success: #34d399;
  --devui-info: #60a5fa;

  /* --- 阴影 --- */
  --devui-shadow: rgba(0, 0, 0, 0.5);
  --devui-light-shadow: rgba(0, 0, 0, 0.3);
  --devui-hover-shadow: rgba(0, 0, 0, 0.3);
  --devui-connected-overlay-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
  --devui-feedback-overlay-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
  --devui-connected-overlay-bg: #1e1e1e;

  /* --- 灰色表单背景（McList filled 变体用） --- */
  --devui-gray-form-control-bg: #1a1a1a;

  /* --- 列表文字 --- */
  --devui-list-item-hover-text: #efefef;
  --devui-list-item-active-text: #efefef;

  /* --- 动画 --- */
  --devui-animation-duration-fast: 0.1s;
  --devui-animation-duration-slow: 0.3s;
  --devui-animation-ease-in-out-smooth: cubic-bezier(0.645, 0.045, 0.355, 1);

  /* --- 杂项 --- */
  --devui-border-radius: 10px;
  --devui-font-size: 14px;
  --devui-font-size-sm: 12px;
  --devui-font-size-card-title: 15px;
  --devui-font-content-weight: normal;
  --devui-font-title-weight: bold;
}

/* ============================================
   DevUI / MateChat — Light Theme Overrides
   ============================================ */

[data-theme='light'] {
  --devui-base-bg: #ffffff;
  --devui-base-bg-dark: #f3f4f6;
  --devui-global-bg: #f7f8fa;
  --devui-global-bg-normal: #ffffff;

  --devui-text: #0f172a;
  --devui-text-weak: #475569;
  --devui-aide-text: #64748b;
  --devui-aide-text-stress: #475569;
  --devui-placeholder: #94a3b8;
  --devui-light-text: #ffffff;
  --devui-disabled-text: #cbd5e1;

  --devui-primary: #2563eb;
  --devui-primary-hover: #1d4ed8;
  --devui-primary-active: #1e40af;
  --devui-primary-disabled: rgba(37, 99, 235, 0.35);
  --devui-brand: #2563eb;
  --devui-brand-hover: #1d4ed8;
  --devui-brand-active: #1e40af;

  --devui-form-control-bg: #ffffff;
  --devui-form-control-line: #e2e8f0;
  --devui-form-control-line-hover: #cbd5e1;
  --devui-form-control-line-active: #2563eb;

  --devui-line: #e2e8f0;
  --devui-dividing-line: #e2e8f0;

  --devui-block: #f7f8fa;
  --devui-area: #f3f4f6;
  --devui-disabled-bg: #f1f5f9;

  --devui-list-item-hover-bg: rgba(0, 0, 0, 0.04);
  --devui-list-item-active-bg: rgba(0, 0, 0, 0.06);
  --devui-list-item-selected-bg: rgba(37, 99, 235, 0.08);

  --devui-icon-fill: #64748b;
  --devui-icon-hover-bg: rgba(0, 0, 0, 0.04);

  --devui-link: #2563eb;
  --devui-link-active: #1d4ed8;

  --devui-danger: #dc2626;
  --devui-warning: #d97706;
  --devui-success: #16a34a;
  --devui-info: #2563eb;

  --devui-shadow: rgba(0, 0, 0, 0.08);
  --devui-light-shadow: rgba(0, 0, 0, 0.05);
  --devui-hover-shadow: rgba(0, 0, 0, 0.06);
  --devui-connected-overlay-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  --devui-feedback-overlay-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  --devui-connected-overlay-bg: #ffffff;

  --devui-gray-form-control-bg: #f7f8fa;

  --devui-list-item-hover-text: #0f172a;
  --devui-list-item-active-text: #0f172a;
}

/* ============================================
   MateChat Component Dark Theme Overrides
   （基于组件真实 CSS 类名修复）
   ============================================ */

/* --- McInput 输入框 --- */
.mc-input {
  background-color: #1a1a1a !important;
  border-color: rgba(255, 255, 255, 0.08) !important;
}

.mc-input:focus-within {
  border-color: #2563eb !important;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15) !important;
}

.mc-textarea,
.editable-container {
  background-color: #1a1a1a !important;
  background: #1a1a1a !important;
  color: #efefef !important;
  caret-color: #efefef !important;
}

.mc-textarea::placeholder,
.editable-container[placeholder]:empty:before {
  color: #666666 !important;
}

/* 发送按钮 */
.mc-button {
  background-color: #2563eb !important;
}

.mc-button:hover {
  background-color: #3b82f6 !important;
}

.mc-button:active {
  background-color: #1d4ed8 !important;
}

.mc-button:disabled {
  background-color: rgba(37, 99, 235, 0.4) !important;
}

.mc-button svg path {
  fill: #ffffff !important;
}

/* 输入框底部 */
.mc-input .mc-input-foot .mc-input-foot-left .mc-input-foot-count {
  color: #666666 !important;
}

/* --- McBubble 消息气泡 --- */
.mc-bubble .mc-bubble-content.filled {
  background-color: #161616 !important;
  color: #efefef !important;
}

.mc-bubble .mc-bubble-content.bordered {
  border-color: rgba(255, 255, 255, 0.06) !important;
  color: #efefef !important;
}

.mc-bubble.mc-bubble-right .mc-bubble-content.filled {
  background-color: #2563eb !important;
  color: #ffffff !important;
}

.mc-bubble.mc-bubble-right .mc-bubble-content.bordered {
  background-color: rgba(37, 99, 235, 0.15) !important;
  border-color: rgba(37, 99, 235, 0.3) !important;
  color: #efefef !important;
}

/* loading 点（覆盖硬编码紫色） */
.mc-bubble-loading .loading-dot {
  background-color: #2563eb !important;
}

/* --- McIntroduction 介绍 --- */
.mc-introduction {
  color: #efefef !important;
}

.mc-introduction .mc-introduction-title {
  color: #efefef !important;
}

.mc-introduction .mc-introduction-sub-title {
  color: #a0a0a0 !important;
}

.mc-introduction .mc-introduction-description {
  color: #a0a0a0 !important;
}

.mc-introduction.filled {
  background-color: #161616 !important;
}

/* --- McPrompt 快捷提问 --- */
.mc-prompt-item {
  background-color: #161616 !important;
  border: 1px solid rgba(255, 255, 255, 0.06) !important;
  border-radius: 12px !important;
  padding: 12px 16px !important;
  cursor: pointer !important;
  transition: all 0.15s ease !important;
  color: #efefef !important;
}

.mc-prompt-item:hover {
  border-color: rgba(255, 255, 255, 0.12) !important;
  background-color: rgba(255, 255, 255, 0.05) !important;
}

.mc-prompt-item .mc-prompt-item-content .mc-prompt-item-label {
  color: #efefef !important;
}

.mc-prompt-item .mc-prompt-item-content .mc-prompt-item-description {
  color: #888888 !important;
}

/* --- McList 列表（McPrompt 内部组件） --- */
.mc-list .mc-list-item {
  color: #efefef !important;
  background-color: transparent !important;
}

.mc-list .mc-list-item.filled {
  background-color: #161616 !important;
}

.mc-list .mc-list-item.bordered {
  border-color: rgba(255, 255, 255, 0.06) !important;
  background-color: #161616 !important;
}

.mc-list .mc-list-item:hover,
.mc-list .mc-list-item.mc-list-item-pre-selection {
  color: #efefef !important;
  background-color: rgba(255, 255, 255, 0.05) !important;
}

.mc-list .mc-list-item.mc-list-item-active {
  color: #efefef !important;
  background-color: rgba(37, 99, 235, 0.15) !important;
}

/* --- McMarkdownCard Markdown 渲染 --- */
.mc-markdown-render {
  color: #efefef !important;
}

.mc-markdown-render td,
.mc-markdown-render th {
  background-color: #161616 !important;
  border-color: rgba(255, 255, 255, 0.06) !important;
  color: #efefef !important;
}

.mc-markdown-render th {
  background-color: #1a1a1a !important;
}

.mc-markdown-render blockquote {
  border-left-color: #2563eb !important;
  color: #a0a0a0 !important;
}

.mc-markdown-render a {
  color: #2563eb !important;
}

.mc-markdown-render a:hover {
  color: #3b82f6 !important;
}

/* ============================================
   MateChat Component Light Theme Overrides
   ============================================ */

[data-theme='light'] .mc-input {
  background-color: #ffffff !important;
  border-color: #e2e8f0 !important;
}

[data-theme='light'] .mc-input:focus-within {
  border-color: #2563eb !important;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1) !important;
}

[data-theme='light'] .mc-textarea,
[data-theme='light'] .editable-container {
  background-color: #ffffff !important;
  background: #ffffff !important;
  color: #0f172a !important;
  caret-color: #0f172a !important;
}

[data-theme='light'] .mc-textarea::placeholder,
[data-theme='light'] .editable-container[placeholder]:empty:before {
  color: #94a3b8 !important;
}

[data-theme='light'] .mc-button {
  background-color: #2563eb !important;
}

[data-theme='light'] .mc-button:hover {
  background-color: #1d4ed8 !important;
}

[data-theme='light'] .mc-button:active {
  background-color: #1e40af !important;
}

[data-theme='light'] .mc-button:disabled {
  background-color: rgba(37, 99, 235, 0.35) !important;
}

[data-theme='light'] .mc-input .mc-input-foot .mc-input-foot-left .mc-input-foot-count {
  color: #94a3b8 !important;
}

/* --- McBubble light --- */
[data-theme='light'] .mc-bubble .mc-bubble-content.filled {
  background-color: #f7f8fa !important;
  color: #0f172a !important;
}

[data-theme='light'] .mc-bubble .mc-bubble-content.bordered {
  border-color: #e2e8f0 !important;
  color: #0f172a !important;
}

[data-theme='light'] .mc-bubble.mc-bubble-right .mc-bubble-content.filled {
  background-color: #2563eb !important;
  color: #ffffff !important;
}

[data-theme='light'] .mc-bubble.mc-bubble-right .mc-bubble-content.bordered {
  background-color: rgba(37, 99, 235, 0.06) !important;
  border-color: rgba(37, 99, 235, 0.2) !important;
  color: #0f172a !important;
}

[data-theme='light'] .mc-bubble-loading .loading-dot {
  background-color: #2563eb !important;
}

/* --- McIntroduction light --- */
[data-theme='light'] .mc-introduction {
  color: #0f172a !important;
}

[data-theme='light'] .mc-introduction .mc-introduction-title {
  color: #0f172a !important;
}

[data-theme='light'] .mc-introduction .mc-introduction-sub-title {
  color: #475569 !important;
}

[data-theme='light'] .mc-introduction .mc-introduction-description {
  color: #475569 !important;
}

[data-theme='light'] .mc-introduction.filled {
  background-color: #f7f8fa !important;
}

/* --- McPrompt light --- */
[data-theme='light'] .mc-prompt-item {
  background-color: #ffffff !important;
  border: 1px solid #e2e8f0 !important;
  color: #0f172a !important;
}

[data-theme='light'] .mc-prompt-item:hover {
  border-color: #cbd5e1 !important;
  background-color: #f7f8fa !important;
}

[data-theme='light'] .mc-prompt-item .mc-prompt-item-content .mc-prompt-item-label {
  color: #0f172a !important;
}

[data-theme='light'] .mc-prompt-item .mc-prompt-item-content .mc-prompt-item-description {
  color: #64748b !important;
}

/* --- McList light --- */
[data-theme='light'] .mc-list .mc-list-item {
  color: #0f172a !important;
  background-color: transparent !important;
}

[data-theme='light'] .mc-list .mc-list-item.filled {
  background-color: #f7f8fa !important;
}

[data-theme='light'] .mc-list .mc-list-item.bordered {
  border-color: #e2e8f0 !important;
  background-color: #ffffff !important;
}

[data-theme='light'] .mc-list .mc-list-item:hover,
[data-theme='light'] .mc-list .mc-list-item.mc-list-item-pre-selection {
  color: #0f172a !important;
  background-color: rgba(0, 0, 0, 0.04) !important;
}

[data-theme='light'] .mc-list .mc-list-item.mc-list-item-active {
  color: #0f172a !important;
  background-color: rgba(37, 99, 235, 0.08) !important;
}

/* --- McMarkdownCard light --- */
[data-theme='light'] .mc-markdown-render {
  color: #0f172a !important;
}

[data-theme='light'] .mc-markdown-render td,
[data-theme='light'] .mc-markdown-render th {
  background-color: #ffffff !important;
  border-color: #e2e8f0 !important;
  color: #0f172a !important;
}

[data-theme='light'] .mc-markdown-render th {
  background-color: #f7f8fa !important;
}

[data-theme='light'] .mc-markdown-render blockquote {
  border-left-color: #2563eb !important;
  color: #475569 !important;
}

[data-theme='light'] .mc-markdown-render code {
  background-color: #f1f5f9 !important;
  color: #0f172a !important;
}

[data-theme='light'] .mc-markdown-render pre {
  background-color: #f8fafc !important;
}

[data-theme='light'] .mc-markdown-render a {
  color: #2563eb !important;
}

[data-theme='light'] .mc-markdown-render a:hover {
  color: #1d4ed8 !important;
}

/* ============================================
   Vue Transition Helpers
   ============================================ */

.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.25s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

.slide-enter-active,
.slide-leave-active {
  transition: all 0.25s ease;
}

.slide-enter-from {
  transform: translateX(-100%);
  opacity: 0;
}

.slide-leave-to {
  transform: translateX(-100%);
  opacity: 0;
}
